2/ALTER DATABASE RENAME FILE 'df02.dbf' TO 'datafile02.dbf';

4/CREATE USER USER_SP
  IDENTIFIED BY "MotDePasse"
  DEFAULT TABLESPACE TBL_SP
  QUOTA 1M ON TBL_SP
  PASSWORD EXPIRE
  PROFILE PROFILE_SP;

5/CREATE ROLE ROLE_SP;

GRANT CONNECT TO ROLE_SP;
GRANT EXP_FULL_DATABASE TO ROLE_SP;
GRANT UPDATE ON HR.EMPLOYEES(SALARY) TO ROLE_SP;


GRANT ROLE_SP TO USER_SP WITH ADMIN OPTION;

AUDIT OS BY ACCESS;
ALTER SYSTEM SET AUDIT_FILE_DEST='C:\oraclexe\app\oracle' SCOPE=SPFILE;

AUDIT CONNECT BY USER_SP BY ACCESS WHENEVER NOT SUCCESSFUL;

9/AUDIT INSERT, UPDATE, DELETE ON HR.EMPLOYEES BY SESSION;
10/CREATE OR REPLACE FUNCTION FN_NB_FILES(p_tablespace_name IN VARCHAR2) RETURN NUMBER IS
  v_segment_count NUMBER;
BEGIN
  SELECT COUNT(*) INTO v_segment_count
  FROM dba_segments
  WHERE tablespace_name = p_tablespace_name;

  RETURN v_segment_count;
END;
/




11/CREATE OR REPLACE PROCEDURE PROC_PRIVS(p_role_name IN VARCHAR2) IS
BEGIN
  FOR priv IN (SELECT privilege FROM dba_sys_privs WHERE grantee = p_role_name) LOOP
    DBMS_OUTPUT.PUT_LINE(priv.privilege);
  END LOOP;
END;
/


12/expdp system/password DIRECTORY=ORACLE DUMPFILE=EXPORT.DUMP TABLESPACES=TBL_SP 

13/OPTIONS (SKIP=1)
LOAD DATA
INFILE 'data.txt'
APPEND
INTO TABLE USER_SP.COMPTE
FIELDS TERMINATED BY '|'
(
  ID,
  DEVISE,
  DATE,
  MONTANT "ROUND(TO_NUMBER(:MONTANT))"
)
